<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cisco Networking Challenge</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --cisco-blue: #00a9e0;
    --cisco-red: #cc071e;
    --cisco-green: #86bc25;
    --cisco-yellow: #ffdb00;
    --cisco-purple: #6b3288;
    --cisco-orange: #f26522;
    --dark-bg: #0d1b2a;
    --card-bg: #1b263b;
    --text-light: #ffffff;
    --text-dim: #a0aec0;
  }
  
  body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(135deg, var(--dark-bg) 0%, #0a1929 100%);
    color: var(--text-light);
    text-align: center;
    padding: 10px;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
    padding-top: 80px; /* Increased for taller header */
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  /* Circuit board background pattern */
  body::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      linear-gradient(rgba(0, 169, 224, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 169, 224, 0.1) 1px, transparent 1px);
    background-size: 30px 30px;
    z-index: -1;
    opacity: 0.3;
  }
  
  /* Header Styles - Enhanced for prominence */
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(135deg, rgba(13, 27, 42, 0.95) 0%, rgba(27, 38, 59, 0.95) 100%);
    color: #fff;
    padding: 15px 20px; /* Increased padding */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    box-shadow: 0 8px 25px rgba(0, 86, 179, 0.7); /* Enhanced shadow */
    box-sizing: border-box;
    border-bottom: 3px solid var(--cisco-blue); /* Added border */
    backdrop-filter: blur(10px); /* Added blur effect */
  }
  
  .header-title {
    font-size: 18px; /* Increased font size */
    flex-grow: 1;
    text-align: center;
    font-weight: bold;
    color: var(--cisco-blue);
    text-shadow: 0 0 15px rgba(0, 169, 224, 0.9); /* Enhanced text shadow */
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 1px; /* Added letter spacing */
    text-transform: uppercase; /* Added uppercase */
  }
  
  .back-button { 
    cursor: pointer; 
    font-size: 22px; /* Increased font size */
    color: var(--cisco-red);
    transition: all 0.3s ease; /* Enhanced transition */
    padding: 5px; /* Added padding */
    border-radius: 50%; /* Added border radius */
    width: 40px; /* Added width */
    height: 40px; /* Added height */
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(204, 7, 30, 0.2); /* Added background */
    border: 2px solid var(--cisco-red); /* Added border */
  }
  
  .back-button:hover { 
    transform: scale(1.2) rotate(-30deg); 
    color: var(--cisco-orange);
    background: rgba(204, 7, 30, 0.4); /* Enhanced hover background */
    box-shadow: 0 0 15px rgba(204, 7, 30, 0.5); /* Added hover shadow */
  }
  
  .placeholder { 
    width: 40px; /* Increased width to match back button */
    height: 40px; /* Increased height to match back button */
  }
  
  /* Main content container */
  .content-container {
    width: 100%;
    max-width: 1200px;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
  }
  
  /* Instructions Section */
  .instructions { 
    width: 100%;
    max-width: 800px;
    background: rgba(27, 38, 59, 0.8); 
    border: 1px solid var(--cisco-blue); 
    border-radius: 8px; 
    padding: 15px;
    margin: 10px auto;
    font-size: 14px;
    line-height: 1.4;
    color: var(--text-light); 
    animation: fadeIn 1.2s ease-in-out;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.4), 0 0 30px rgba(0, 169, 224, 0.2);
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(5px);
    box-sizing: border-box;
  }
  
  .instructions::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--cisco-blue), transparent);
    animation: scan-line 3s linear infinite;
  }
  
  .instructions h2 {
    font-family: 'Orbitron', sans-serif;
    color: var(--cisco-green);
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 1.2rem;
    text-shadow: 0 0 5px rgba(134, 188, 37, 0.3);
  }
  
  .instructions ul {
    text-align: left;
    padding-left: 15px;
  }
  
  .instructions li {
    margin-bottom: 8px;
  }
  
  .instructions strong { 
    color: var(--cisco-blue); 
  }
  
  .tutorial-box { 
    width: 100%;
    max-width: 600px;
    margin: 15px auto;
    padding: 15px;
    border: 2px solid var(--cisco-green); 
    border-radius: 8px; 
    background: rgba(13, 27, 42, 0.7); 
    box-shadow: 0 0 20px rgba(0, 86, 179, 0.3); 
    text-align: center; 
    min-height: 100px;
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
  }
  
  .tutorial-box::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(0, 169, 224, 0.05) 2px,
      rgba(0, 169, 224, 0.05) 4px
    );
    z-index: -1;
  }
  
  .tutorial-step { 
    font-size: 16px; 
    color: var(--text-light); 
    opacity: 0; 
    transform: translateY(10px); 
    transition: opacity 0.6s ease, transform 0.6s ease; 
    position: relative;
    padding: 5px 0;
  }
  
  .tutorial-step.active { 
    opacity: 1; 
    transform: translateY(0); 
    color: var(--cisco-green); 
    text-shadow: 0 0 8px rgba(134, 188, 37, 0.5);
  }
  
  .start-btn { 
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 16px;
    font-weight: bold; 
    background: linear-gradient(135deg, var(--cisco-blue), var(--cisco-green));
    color: var(--dark-bg); 
    border: none; 
    border-radius: 8px; 
    cursor: pointer; 
    transition: all 0.3s;
    font-family: 'Orbitron', sans-serif;
    box-shadow: 0 4px 10px rgba(0, 169, 224, 0.3);
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  
  .start-btn:hover { 
    background: linear-gradient(135deg, var(--cisco-green), var(--cisco-blue)); 
    color: var(--dark-bg); 
    box-shadow: 0 6px 15px rgba(0, 169, 224, 0.5);
    transform: translateY(-3px);
  }
  
  /* Main content area */
  .main-content {
    width: 100%;
    display: none;
    opacity: 0;
    animation: fadeIn 1s ease forwards;
    box-sizing: border-box;
  }
  
  /* Header with points and coins */
  .game-header {
    width: 100%;
    margin-bottom: 15px;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
  }
    
  h1 {
    font-family: 'Orbitron', sans-serif;
    color: var(--cisco-blue);
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 5px;
    text-shadow: 0 0 10px rgba(0, 169, 224, 0.5);
    letter-spacing: 1px;
  }
  
  /* Points and Coins Display */
  .rewards-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 10px 0;
    font-family: 'Orbitron', sans-serif;
  }
  
  .reward-item {
    display: flex;
    align-items: center;
    background: rgba(27, 38, 59, 0.7);
    padding: 6px 12px;
    border-radius: 20px;
    border: 1px solid rgba(0, 169, 224, 0.3);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  }
  
  .reward-icon {
    width: 20px;
    height: 20px;
    margin-right: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 12px;
  }
  
  .points-icon {
    background: linear-gradient(135deg, var(--cisco-blue), var(--cisco-green));
    color: var(--dark-bg);
  }
  
  .coins-icon {
    background: linear-gradient(135deg, var(--cisco-yellow), var(--cisco-orange));
    color: var(--dark-bg);
  }
  
  .reward-value {
    font-size: 16px;
    font-weight: bold;
  }
  
  #level-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1rem;
    margin-bottom: 10px;
    color: var(--cisco-green);
    text-shadow: 0 0 5px rgba(134, 188, 37, 0.5);
  }
  
  /* Progress bar */
  .progress-container {
    width: 90%;
    max-width: 600px;
    background: rgba(27, 38, 59, 0.7);
    border-radius: 20px;
    margin: 15px auto;
    height: 15px;
    overflow: hidden;
    box-shadow: 0 0 15px rgba(0, 169, 224, 0.3);
    border: 1px solid rgba(0, 169, 224, 0.2);
  }
  
  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, var(--cisco-blue), var(--cisco-green));
    transition: width 0.5s ease-in-out;
    box-shadow: 0 0 10px rgba(0, 169, 224, 0.7);
  }
  
  /* Level tracker circles */
  .level-tracker {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
    margin: 10px 0 15px;
    width: 90%;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .level-circle {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--card-bg);
    color: var(--text-dim);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 12px;
    font-weight: bold;
    border: 2px solid var(--cisco-blue);
    opacity: 0.5;
    transition: all 0.3s;
  }
  
  .level-circle.active {
    background: var(--cisco-blue);
    color: var(--dark-bg);
    opacity: 1;
    box-shadow: 0 0 10px var(--cisco-blue);
    transform: scale(1.1);
  }
  
  /* Game box styling */
  .game-box {
    width: 90%;
    max-width: 600px;
    background: rgba(27, 38, 59, 0.8);
    border-radius: 12px;
    padding: 20px;
    margin: 15px auto;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.4), 0 0 30px rgba(0, 169, 224, 0.2);
    transition: all 0.3s;
    border: 1px solid rgba(0, 169, 224, 0.3);
    backdrop-filter: blur(5px);
    box-sizing: border-box;
  }
  
  .game-box:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.5), 0 0 40px rgba(0, 169, 224, 0.3);
  }
  
  .game-box h3 {
    font-family: 'Orbitron', sans-serif;
    color: var(--cisco-green);
    margin-bottom: 15px;
    font-size: 1.1rem;
    text-shadow: 0 0 5px rgba(134, 188, 37, 0.3);
    line-height: 1.3;
  }
  
  /* Form elements */
  label {
    display: block;
    margin: 12px 0 6px;
    text-align: left;
    color: var(--text-dim);
    font-weight: 500;
    font-size: 14px;
  }
  
  input, select {
    padding: 10px;
    border-radius: 6px;
    border: 1px solid rgba(0, 169, 224, 0.3);
    margin-bottom: 12px;
    width: 100%;
    background: rgba(13, 27, 42, 0.7);
    color: var(--text-light);
    font-size: 14px;
    transition: all 0.3s;
    box-sizing: border-box;
  }
  
  input:focus, select:focus {
    outline: none;
    border-color: var(--cisco-blue);
    box-shadow: 0 0 10px rgba(0, 169, 224, 0.3);
  }
  
  select option {
    background: var(--dark-bg);
    color: var(--text-light);
  }
  
  /* Buttons */
  button {
    background: linear-gradient(135deg, var(--cisco-blue), var(--cisco-green));
    color: var(--dark-bg);
    font-weight: bold;
    cursor: pointer;
    margin: 8px 5px;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-family: 'Orbitron', sans-serif;
    font-size: 14px;
    transition: all 0.3s;
    box-shadow: 0 4px 10px rgba(0, 169, 224, 0.3);
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  
  button:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 169, 224, 0.5);
    background: linear-gradient(135deg, var(--cisco-green), var(--cisco-blue));
  }
  
  #nextBtn {
    background: linear-gradient(135deg, var(--cisco-green), var(--cisco-yellow));
    display: none;
    margin: 15px auto;
  }
  
  /* Result messages */
  #result {
    margin-top: 15px;
    font-size: 16px;
    font-weight: bold;
    min-height: 30px;
    font-family: 'Orbitron', sans-serif;
    line-height: 1.4;
  }
  
  #result.success {
    color: var(--cisco-green);
    text-shadow: 0 0 10px rgba(134, 188, 37, 0.5);
  }
  
  #result.fail {
    color: var(--cisco-red);
    text-shadow: 0 0 10px rgba(204, 7, 30, 0.5);
  }
  
  /* Reward notification */
  .reward-notification {
    position: fixed;
    top: 90px; /* Adjusted for taller header */
    right: 10px;
    background: rgba(27, 38, 59, 0.9);
    border: 2px solid var(--cisco-green);
    border-radius: 10px;
    padding: 12px 15px;
    color: var(--text-light);
    font-family: 'Orbitron', sans-serif;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5), 0 0 30px rgba(134, 188, 37, 0.3);
    z-index: 1000;
    transform: translateX(300px);
    transition: transform 0.5s ease-in-out;
    max-width: 250px;
    box-sizing: border-box;
  }
  
  .reward-notification.show {
    transform: translateX(0);
  }
  
  .reward-notification h4 {
    margin: 0 0 8px 0;
    color: var(--cisco-green);
    font-size: 16px;
  }
  
  .reward-notification p {
    margin: 4px 0;
    font-size: 13px;
    display: flex;
    align-items: center;
  }
  
  .reward-notification .reward-icon {
    margin-right: 6px;
  }
  
  /* Network icon decoration */
  .network-icon {
    position: absolute;
    opacity: 0.1;
    z-index: -1;
  }
  
  .router-icon {
    top: 10%;
    right: 5%;
    width: 100px;
    height: 100px;
    border: 12px solid var(--cisco-blue);
    border-radius: 10px;
    transform: rotate(15deg);
  }
  
  .switch-icon {
    bottom: 10%;
    left: 5%;
    width: 80px;
    height: 80px;
    border: 10px solid var(--cisco-green);
    border-radius: 8px;
    transform: rotate(-10deg);
  }
  
  /* Animations */
  @keyframes fadeIn { 
    from { opacity: 0; transform: translateY(10px); } 
    to { opacity: 1; transform: translateY(0); } 
  }
  
  @keyframes scan-line {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
  
  /* Mobile-specific adjustments */
  @media (max-width: 768px) {
    body {
      padding: 5px;
      padding-top: 70px; /* Adjusted for taller header */
    }
    
    header {
      padding: 12px 15px; /* Increased padding for mobile */
    }
    
    .header-title {
      font-size: 16px; /* Increased for mobile */
    }
    
    .back-button {
      font-size: 20px; /* Increased for mobile */
      width: 36px; /* Slightly smaller for mobile */
      height: 36px; /* Slightly smaller for mobile */
    }
    
    .placeholder {
      width: 36px; /* Match back button */
      height: 36px; /* Match back button */
    }
    
    .instructions {
      padding: 12px;
      font-size: 13px;
      margin: 8px auto;
    }
    
    .instructions h2 {
      font-size: 1.1rem;
      margin-bottom: 8px;
    }
    
    .instructions ul {
      padding-left: 12px;
    }
    
    .instructions li {
      margin-bottom: 6px;
    }
    
    .tutorial-box {
      padding: 12px;
      margin: 10px auto;
      min-height: 80px;
    }
    
    .tutorial-step {
      font-size: 14px;
    }
    
    .start-btn {
      padding: 8px 16px;
      font-size: 14px;
      margin-top: 12px;
    }
    
    h1 {
      font-size: 1.5rem;
    }
    
    .cisco-logo {
      width: 50px;
      height: 20px;
      margin: 0 auto 8px;
    }
    
    .rewards-container {
      gap: 15px;
      margin: 8px 0;
    }
    
    .reward-item {
      padding: 5px 10px;
    }
    
    .reward-icon {
      width: 18px;
      height: 18px;
      font-size: 11px;
    }
    
    .reward-value {
      font-size: 14px;
    }
    
    #level-title {
      font-size: 0.9rem;
      margin-bottom: 8px;
    }
    
    .progress-container {
      width: 95%;
      height: 12px;
      margin: 10px auto;
    }
    
    .level-tracker {
      gap: 6px;
      margin: 8px auto 12px;
      max-width: 320px;
    }
    
    .level-circle {
      width: 20px;
      height: 20px;
      font-size: 10px;
    }
    
    .game-box {
      width: 95%;
      padding: 15px;
      margin: 10px auto;
    }
    
    .game-box h3 {
      font-size: 1rem;
      margin-bottom: 12px;
      line-height: 1.2;
    }
    
    label {
      font-size: 13px;
      margin: 10px 0 5px;
    }
    
    input, select {
      padding: 8px;
      font-size: 13px;
      margin-bottom: 10px;
    }
    
    button {
      padding: 8px 16px;
      font-size: 12px;
      margin: 6px 3px;
    }
    
    #nextBtn {
      margin-top: 12px;
    }
    
    #result {
      font-size: 14px;
      margin-top: 12px;
    }
    
    .reward-notification {
      top: 80px; /* Adjusted for taller header */
      right: 5px;
      padding: 10px 12px;
      max-width: 200px;
      transform: translateX(220px);
    }
    
    .reward-notification h4 {
      font-size: 14px;
      margin-bottom: 6px;
    }
    
    .reward-notification p {
      font-size: 12px;
      margin: 3px 0;
    }
    
    .router-icon, .switch-icon {
      display: none;
    }
  }
  
  /* Extra small mobile devices */
  @media (max-width: 480px) {
    .level-tracker {
      max-width: 280px;
    }
    
    .level-circle {
      width: 18px;
      height: 18px;
      font-size: 9px;
    }
    
    .game-box h3 {
      font-size: 0.9rem;
    }
    
    button {
      padding: 8px 12px;
      font-size: 11px;
    }
    
    .reward-notification {
      max-width: 180px;
      padding: 8px 10px;
    }
  }
</style>
</head>
<body>
  <!-- Network icon decorations -->
  <div class="network-icon router-icon"></div>
  <div class="network-icon switch-icon"></div>
  
  <!-- Header with Back Button -->
  <header>
    <div class="back-button" onclick="window.location.href='../levels/networkinglevels.html'">⤺</div>
    <div class="header-title">Cisco Networking Challenge</div>
    <div class="placeholder"></div>
  </header>
  
  <!-- Main Content Container -->
  <div class="content-container">
    <!-- Instructions Section -->
    <div class="instructions" id="instructions">
      <h2>📡 Cisco Networking Challenge</h2>
      <p>Test your networking knowledge across 10 challenging levels. Each level covers different aspects of networking.</p>
      
      <ul>
        <li><strong>Objective:</strong> Complete all 10 levels</li>
        <li><strong>Rewards:</strong> Earn points and coins</li>
        <li><strong>Difficulty:</strong> Increases as you progress</li>
        <li><strong>Hint:</strong> Pay attention to details</li>
      </ul>
      
      <div class="tutorial-box" id="tutorialBox">
        <div class="tutorial-step active">👋 Welcome!</div>
        <div class="tutorial-step">📚 Each level tests different skills</div>
        <div class="tutorial-step">🏆 Earn points and coins</div>
        <div class="tutorial-step">🎯 Complete all 10 levels</div>
        <div class="tutorial-step">▶ Click "Start Challenge"</div>
      </div>
      
      <button class="start-btn" onclick="startChallenge()">▶ Start Challenge</button>
    </div>
    
    <!-- Main Content -->
    <div class="main-content" id="main-content">
      <div class="game-header">
        <div class="cisco-logo"></div>
        <h1>Cisco Networking Challenge</h1>
        
        <!-- Points and Coins Display -->
        <div class="rewards-container">
          <div class="reward-item">
            <div class="reward-icon points-icon">⭐</div>
            <div class="reward-value" id="points-display">0</div>
          </div>
          <div class="reward-item">
            <div class="reward-icon coins-icon">🪙</div>
            <div class="reward-value" id="coins-display">0</div>
          </div>
        </div>
      </div>
      
      <p id="level-title">Level 1: LAN Troubleshooter</p>
      
      <!-- Progress bar -->
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      
      <!-- Level tracker -->
      <div class="level-tracker" id="level-tracker">
        <div class="level-circle active">1</div>
        <div class="level-circle">2</div>
        <div class="level-circle">3</div>
        <div class="level-circle">4</div>
        <div class="level-circle">5</div>
        <div class="level-circle">6</div>
        <div class="level-circle">7</div>
        <div class="level-circle">8</div>
        <div class="level-circle">9</div>
        <div class="level-circle">10</div>
      </div>
      
      <!-- Level 1 -->
      <div id="level1" class="game-box">
        <h3>Fix the LAN so PC1 and PC2 can communicate!</h3>
        <label>PC1 IP:</label>
        <input type="text" id="pc1" placeholder="192.168.1.10">
        <label>PC2 IP:</label>
        <input type="text" id="pc2" placeholder="192.168.1.20">
        <label>Choose Cable:</label>
        <select id="cable">
          <option value="">--Select Cable--</option>
          <option value="straight">Straight-through</option>
          <option value="crossover">Crossover</option>
        </select>
        <button onclick="checkLevel1()">Fix & Test</button>
        <div id="result1"></div>
      </div>
      
      <!-- Level 2 -->
      <div id="level2" class="game-box" style="display:none;">
        <h3>Routing Challenge: Connect PC1 (192.168.1.0/24) to PC2 (192.168.2.0/24) via Routers</h3>
        <label>Select the correct Static Route for Router1:</label>
        <select id="route">
          <option value="">--Select--</option>
          <option value="wrong">ip route 192.168.3.0 255.255.255.0 192.168.1.2</option>
          <option value="correct">ip route 192.168.2.0 255.255.255.0 192.168.1.2</option>
          <option value="wrong2">ip route 0.0.0.0 0.0.0.0 192.168.1.2</option>
        </select>
        <button onclick="checkLevel2()">Submit</button>
        <div id="result2"></div>
      </div>
      
      <!-- Level 3 -->
      <div id="level3" class="game-box" style="display:none;">
        <h3>Subnetting Challenge: Which subnet mask allows 30 hosts?</h3>
        <select id="subnet">
          <option value="">--Select--</option>
          <option value="wrong">255.255.255.240 (/28)</option>
          <option value="correct">255.255.255.224 (/27)</option>
          <option value="wrong2">255.255.255.192 (/26)</option>
        </select>
        <button onclick="checkLevel3()">Submit</button>
        <div id="result3"></div>
      </div>
      
      <!-- Level 4 -->
      <div id="level4" class="game-box" style="display:none;">
        <h3>VLAN Challenge: PCs in VLAN10 and VLAN20 can't talk. What's missing?</h3>
        <select id="vlan">
          <option value="">--Select--</option>
          <option value="wrong">Assign IPs again</option>
          <option value="correct">Configure Inter-VLAN Routing</option>
          <option value="wrong2">Change cable type</option>
        </select>
        <button onclick="checkLevel4()">Submit</button>
        <div id="result4"></div>
      </div>
      
      <!-- Level 5 -->
      <div id="level5" class="game-box" style="display:none;">
        <h3>Switch Security: Which command disables unused ports?</h3>
        <select id="security">
          <option value="">--Select--</option>
          <option value="wrong">enable password cisco</option>
          <option value="correct">shutdown</option>
          <option value="wrong2">banner motd #Unauthorized Access#</option>
        </select>
        <button onclick="checkLevel5()">Submit</button>
        <div id="result5"></div>
      </div>
      
      <!-- Level 6 -->
      <div id="level6" class="game-box" style="display:none;">
        <h3>DHCP Challenge: What does the router need to give IPs automatically?</h3>
        <select id="dhcp">
          <option value="">--Select--</option>
          <option value="wrong">Static Routes</option>
          <option value="wrong2">Access Lists</option>
          <option value="correct">DHCP Pool Configuration</option>
        </select>
        <button onclick="checkLevel6()">Submit</button>
        <div id="result6"></div>
      </div>
      
      <!-- Level 7 -->
      <div id="level7" class="game-box" style="display:none;">
        <h3>Wireless Challenge: PCs can't connect to Wi-Fi. What's the likely fix?</h3>
        <select id="wifi">
          <option value="">--Select--</option>
          <option value="wrong">Change cables</option>
          <option value="correct">Set correct SSID & Password</option>
          <option value="wrong2">Remove IP address</option>
        </select>
        <button onclick="checkLevel7()">Submit</button>
        <div id="result7"></div>
      </div>
      
      <!-- Level 8 -->
      <div id="level8" class="game-box" style="display:none;">
        <h3>ACL Challenge: Block PC (192.168.1.50) from accessing Server (192.168.2.10).</h3>
        <select id="acl">
          <option value="">--Select--</option>
          <option value="wrong">access-list 1 permit 192.168.1.50</option>
          <option value="correct">access-list 1 deny 192.168.1.50</option>
          <option value="wrong2">ip route 192.168.2.0 255.255.255.0 192.168.1.1</option>
        </select>
        <button onclick="checkLevel8()">Submit</button>
        <div id="result8"></div>
      </div>
      
      <!-- Level 9 -->
      <div id="level9" class="game-box" style="display:none;">
        <h3>OSPF Challenge: What command enables OSPF process 1 on network 192.168.1.0?</h3>
        <select id="ospf">
          <option value="">--Select--</option>
          <option value="wrong">router eigrp 1</option>
          <option value="correct">router ospf 1 → network 192.168.1.0 0.0.0.255 area 0</option>
          <option value="wrong2">ip ospf enable</option>
        </select>
        <button onclick="checkLevel9()">Submit</button>
        <div id="result9"></div>
      </div>
      
      <!-- Level 10 -->
      <div id="level10" class="game-box" style="display:none;">
        <h3>Final Boss: Which configuration secures remote access with SSH?</h3>
        <select id="ssh">
          <option value="">--Select--</option>
          <option value="wrong">line vty 0 4 → password cisco</option>
          <option value="correct">line vty 0 4 → transport input ssh</option>
          <option value="wrong2">enable password admin</option>
        </select>
        <button onclick="checkLevel10()">Submit</button>
        <div id="result10"></div>
      </div>
      
      <!-- Next button -->
      <button id="nextBtn" onclick="nextLevel()">Next Level ▶</button>
    </div>
  </div>
  
  <!-- Reward Notification -->
  <div class="reward-notification" id="reward-notification">
    <h4>Reward Earned!</h4>
    <p><span class="reward-icon points-icon">⭐</span> +<span id="reward-points">0</span> Points</p>
    <p><span class="reward-icon coins-icon">🪙</span> +<span id="reward-coins">0</span> Coins</p>
  </div>
  
  <script>
    let currentLevel = 1;
    let totalPoints = 0;
    let totalCoins = 0;
    
    // Level rewards (points, coins)
    const levelRewards = [
      { points: 100, coins: 50 },   // Level 1
      { points: 150, coins: 75 },   // Level 2
      { points: 200, coins: 100 },  // Level 3
      { points: 250, coins: 125 },  // Level 4
      { points: 300, coins: 150 },  // Level 5
      { points: 350, coins: 175 },  // Level 6
      { points: 400, coins: 200 },  // Level 7
      { points: 450, coins: 225 },  // Level 8
      { points: 500, coins: 250 },  // Level 9
      { points: 1000, coins: 500 }  // Level 10 (Bonus)
    ];
    
    // Initialize points and coins from localStorage if available
    function initializeRewards() {
      const savedPoints = localStorage.getItem("ciscoPoints");
      const savedCoins = localStorage.getItem("ciscoCoins");
      
      if (savedPoints) {
        totalPoints = parseInt(savedPoints);
        document.getElementById("points-display").textContent = totalPoints;
      }
      
      if (savedCoins) {
        totalCoins = parseInt(savedCoins);
        document.getElementById("coins-display").textContent = totalCoins;
      }
    }
    
    // Update points and coins display
    function updateRewardsDisplay() {
      document.getElementById("points-display").textContent = totalPoints;
      document.getElementById("coins-display").textContent = totalCoins;
      
      // Save to localStorage
      localStorage.setItem("ciscoPoints", totalPoints);
      localStorage.setItem("ciscoCoins", totalCoins);
    }
    
    // Show reward notification
    function showRewardNotification(points, coins) {
      document.getElementById("reward-points").textContent = points;
      document.getElementById("reward-coins").textContent = coins;
      
      const notification = document.getElementById("reward-notification");
      notification.classList.add("show");
      
      // Hide after 3 seconds
      setTimeout(() => {
        notification.classList.remove("show");
      }, 3000);
    }
    
    // Give reward for completing a level
    async function giveReward(level) {
      const username = localStorage.getItem("loggedInUser");
      const rewards = levelRewards[level - 1];
      
      // Update local totals
      totalPoints += rewards.points;
      totalCoins += rewards.coins;
      updateRewardsDisplay();
      
      // Show notification
      showRewardNotification(rewards.points, rewards.coins);
      
      // If username is available, send to server
      if (username) {
        try {
          const response = await fetch("https://postgres-test-p05s.onrender.com/api/reward", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              username,
              points: rewards.points,
              coins: rewards.coins,
              reason: `Completed Level ${level}`
            })
          });
          
          const data = await response.json();
          if (!data.success) {
            console.error("Reward API failed:", data);
          }
        } catch (err) {
          console.error("Reward API Error:", err);
        }
      }
    }
    
    // Start the challenge
    function startChallenge() {
      document.getElementById("instructions").style.display = "none";
      document.getElementById("main-content").style.display = "block";
    }
    
    // Tutorial steps animation
    const steps = document.querySelectorAll(".tutorial-step");
    let stepIndex = 0;
    setInterval(() => {
      steps.forEach((s, i) => s.classList.toggle("active", i === stepIndex));
      stepIndex = (stepIndex + 1) % steps.length;
    }, 3000);
    
    // ---- LEVEL 1 ----
    function checkLevel1(){
      let ip1 = document.getElementById("pc1").value;
      let ip2 = document.getElementById("pc2").value;
      let cable = document.getElementById("cable").value;
      let result = document.getElementById("result1");
      
      if(!/^\d+\.\d+\.\d+\.\d+$/.test(ip1) || !/^\d+\.\d+\.\d+\.\d+$/.test(ip2)){
        result.textContent = "❌ Invalid IP format!";
        result.className = "fail"; 
        return;
      }
      
      if(ip1.split('.')[0]!==ip2.split('.')[0] || ip1.split('.')[1]!==ip2.split('.')[1] || ip1.split('.')[2]!==ip2.split('.')[2]){
        result.textContent = "❌ PCs are not in the same subnet!";
        result.className = "fail"; 
        return;
      }
      
      if(cable !== "straight"){
        result.textContent = "❌ Wrong cable! Use Straight-through for PC-to-Switch.";
        result.className = "fail"; 
        return;
      }
      
      result.textContent = "✅ Ping Success! Level 1 Complete.";
      result.className = "success";
      
      // Give reward for completing level
      giveReward(1);
      
      document.getElementById("nextBtn").style.display="inline-block";
    }
    
    // ---- LEVEL 2 ----
    function checkLevel2(){
      let choice = document.getElementById("route").value;
      let result = document.getElementById("result2");
      
      if(choice === "correct"){
        result.textContent = "✅ Static Route Correct! PC1 ↔ PC2 Communication Works.";
        result.className = "success";
        
        // Give reward for completing level
        giveReward(2);
        
        document.getElementById("nextBtn").style.display="inline-block";
      } else {
        result.textContent = "❌ Wrong Route. Try again!";
        result.className = "fail";
      }
    }
    
    // ---- LEVEL 3–10 (generic checker) ----
    function checkGeneric(level, selectId, correctValue){
      let choice = document.getElementById(selectId).value;
      let result = document.getElementById("result"+level);
      
      if(choice === "correct"){
        result.textContent = "✅ Correct Answer! Level " + level + " Complete.";
        result.className = "success";
        
        // Give reward for completing level
        giveReward(level);
        
        document.getElementById("nextBtn").style.display="inline-block";
      } else {
        result.textContent = "❌ Wrong Answer. Try again!";
        result.className = "fail";
      }
    }
    
    // wrapper for each
    function checkLevel3(){ checkGeneric(3,"subnet","correct"); }
    function checkLevel4(){ checkGeneric(4,"vlan","correct"); }
    function checkLevel5(){ checkGeneric(5,"security","correct"); }
    function checkLevel6(){ checkGeneric(6,"dhcp","correct"); }
    function checkLevel7(){ checkGeneric(7,"wifi","correct"); }
    function checkLevel8(){ checkGeneric(8,"acl","correct"); }
    function checkLevel9(){ checkGeneric(9,"ospf","correct"); }
    function checkLevel10(){ checkGeneric(10,"ssh","correct"); }
    
    // ---- LEVEL NAVIGATION ----
    function nextLevel(){
      document.getElementById("level"+currentLevel).style.display="none";
      currentLevel++;
      
      // Update UI
      updateProgress();
      
      if(currentLevel <= 10){
        document.getElementById("level"+currentLevel).style.display="block";
        document.getElementById("level-title").innerText="Level " + currentLevel;
        document.getElementById("nextBtn").style.display="none";
      } else {
        document.getElementById("level-title").innerText="🎉 Congratulations! You finished all levels!";
        document.getElementById("nextBtn").style.display="none";
        
        // Add completion animation
        createCompletionAnimation();
        
        // Bonus reward for completing all levels
        setTimeout(() => {
          showRewardNotification(5000, 2500);
          totalPoints += 5000;
          totalCoins += 2500;
          updateRewardsDisplay();
        }, 2000);
      }
    }
    
    // ---- PROGRESS & TRACKER ----
    function updateProgress(){
      let percent = ((currentLevel-1)/10) * 100;
      document.getElementById("progress-bar").style.width = percent + "%";
      let circles = document.querySelectorAll(".level-circle");
      circles.forEach((c, idx) => {
        if(idx < currentLevel) c.classList.add("active");
      });
    }
    
    // ---- COMPLETION ANIMATION ----
    function createCompletionAnimation() {
      // Create confetti effect
      for (let i = 0; i < 100; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.style.position = 'absolute';
          confetti.style.width = '10px';
          confetti.style.height = '10px';
          confetti.style.backgroundColor = ['#00a9e0', '#86bc25', '#ffdb00', '#6b3288', '#f26522'][Math.floor(Math.random() * 5)];
          confetti.style.left = Math.random() * 100 + '%';
          confetti.style.top = '-10px';
          confetti.style.opacity = Math.random() + 0.5;
          confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
          confetti.style.transition = 'all 2s ease-out';
          document.body.appendChild(confetti);
          
          setTimeout(() => {
            confetti.style.top = '100%';
            confetti.style.transform = `rotate(${Math.random() * 720}deg)`;
          }, 10);
          
          setTimeout(() => confetti.remove(), 2000);
        }, i * 30);
      }
    }
    
    // Initialize rewards display when page loads
    window.onload = function() {
      initializeRewards();
    };
  </script>
</body>
</html>